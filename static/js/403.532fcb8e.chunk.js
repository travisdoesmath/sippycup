"use strict";(self.webpackChunkfauxstack=self.webpackChunkfauxstack||[]).push([[403],{4403:function(n,t,e){e.r(t),e.d(t,{request:function(){return m},run:function(){return v},start:function(){return k},updateFile:function(){return x}});var r,o,c,a,s=e(4165),u=e(885),i=e(5861);function p(){return r.runPython('\nwith open("templates/style.css", "r") as file:\n    css = file.readlines()    \n'),r.globals.get("css").toJs().join("")}function l(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",e=(arguments.length>2&&void 0!==arguments[2]||self,{"wsgi.url_scheme":"http",REQUEST_METHOD:n,PATH_INFO:t}),s=o(r.toPy(e),y).toJs(),u=s.__next__();console.log("response before converting to string",u),u=(u=(u=u.toString()).slice(2,u.length-1)).replace('<link rel="stylesheet" href="style.css">',"<style>".concat(p(),"</style>"));var i=new TextEncoder;return console.log(u),console.log("sippycup response: ",i.encode(u)),{value:{body:i.encode(u),headers:a,status:c},stdout:"127.0.0.1 - - [".concat(f(),'] "').concat(n," ").concat(t,' HTTP/1.1" ').concat(c," -\n")}}function f(){var n=new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),t=new Date,e={};return n.formatToParts(t).map((function(n){return e[n.type]=n.value})),"".concat(e.day,"/").concat(e.month,"/").concat(e.year," ").concat(e.hour,":").concat(e.minute,":").concat(e.second)}function h(n){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)((0,s.Z)().mark((function n(t){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.runPython(t),o=r.globals.get("app").toJs(),self.postMessage({command:"appReady"});case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(n,t,e){c=n;var r={};t.toJs().forEach((function(n){var t=(0,u.Z)(n,2),e=t[0],o=t[1];return r[e]=o})),a=r}function m(n,t){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)((0,s.Z)().mark((function n(t,e){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",l(t,e));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)((0,s.Z)().mark((function n(t){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h(t);case 2:return"\n * Serving Flask app 'app'\n * Running on http://127.0.0.1:5000\n",n.abrupt("return","\n * Serving Flask app 'app'\n * Running on http://127.0.0.1:5000\n");case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(){return Z.apply(this,arguments)}function Z(){return(Z=(0,i.Z)((0,s.Z)().mark((function n(){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,loadPyodide({stdout:function(n){t=n}});case 2:return(r=n.sent).runPython("import os\n\nos.mkdir('templates')\n"),n.next=6,r.loadPackage("micropip").then((function(){return r.pyimport("micropip")})).then((function(n){return n.install("flask")}));case 6:return n.abrupt("return",t);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function x(n,t){return P.apply(this,arguments)}function P(){return(P=(0,i.Z)((0,s.Z)().mark((function n(t,e){var o;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o='\nwith open("templates/'.concat(t,'", "w") as file:\n    file.write("""').concat(e,'""")\n'),r.runPython(o);case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}"function"===typeof importScripts&&importScripts("https://cdn.jsdelivr.net/pyodide//v0.21.3/full/pyodide.js")}}]);
//# sourceMappingURL=403.532fcb8e.chunk.js.map